\chapter{Building a type checker generator}

Now that a user has the means of describing a type system, we will
discuss how the generic type-checking software is constructed.

We will describe key definitions and types to communicate a
high-level understanding of how the software works,
however, we will often omit implementation details in areas where the
code is less important, tedious or verbose.

The general tactic for type-checking some generic syntax will be to
parse the required typing, $\beta$ and $\eta$ rules from the
descriptions provided using our DSL. Using this information we can
then parse user source code and represent it in a fairly
language-agnostic internal object syntax before using the rules
to type-check our internal syntax.

We will begin by describing the internal syntax, talk about how we
might represent the various tools and rules that we need to
type check this syntax and define the type checking process before
briefly covering our approach to parsing this information from the
user-supplied input files. We purposely keep our parsing conversations
brief to prioritize the presentation of challenges in other areas.

Our approach in this section is heavily influenced by the work of
Conor McBride in \emph{The types who say 'ni'} \cite{TypesWhoSayNi} -
although the code we provide is strictly our own in all cases, there
are some areas where this code is a near-direct translation of
the mathematics in this paper. As we pointed out in the previous
chapter: patterns, expressions and the treatment of premises are
all concepts that we take from this work. In addition, our internal
syntax is very like that described in the paper and we use the same
approach for thinnings, substitution, contexts and much of our
treatment of scope.

\\\\
\input{../../TypeCheckerGenerator/latex/CoreLanguage.tex}
\input{../../TypeCheckerGenerator/latex/Thinning.tex}
\input{../../TypeCheckerGenerator/latex/Substitution.tex}
\input{../../TypeCheckerGenerator/latex/TermSubstitution.tex}
\input{../../TypeCheckerGenerator/latex/Context.tex}
\input{../../TypeCheckerGenerator/latex/Opening.tex}
\input{../../TypeCheckerGenerator/latex/Pattern.tex}
\input{../../TypeCheckerGenerator/latex/Expression.tex}
\input{../../TypeCheckerGenerator/latex/Rules.tex}
\input{../../TypeCheckerGenerator/latex/EtaRule.tex}
\input{../../TypeCheckerGenerator/latex/Semantics.tex}
\input{../../TypeCheckerGenerator/latex/TypeChecker.tex}
\input{../../TypeCheckerGenerator/latex/Parser.tex}
\input{../../TypeCheckerGenerator/latex/SpecParser.tex}
\input{../../TypeCheckerGenerator/latex/LanguageParser.tex}

